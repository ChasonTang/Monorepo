# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Build Commands

- **Setup tools**: `./sync_tools.sh` - Downloads and sets up GN and Ninja build tools for macOS (supports both ARM64 and x86_64)
- **Generate build files**: `./tool/gn gen out` - Generates Ninja build files in the out directory
- **Build project**: `./tool/ninja -C out` - Builds all targets using Ninja
- **Run executable**: `./out/hello_world` - Runs the compiled Hello World program

## Project Architecture

This is a monorepo using GN (Generate Ninja) as the meta-build system with Ninja as the actual build tool. The project follows GN conventions:

- **Root BUILD.gn**: Defines main build targets with `default` and `all` groups
- **hello/**: Contains a simple C Hello World program with its own BUILD.gn
- **tool/**: Contains GN and Ninja executables (managed by sync_tools.sh)
- **out/**: Build output directory generated by GN

## Build System Details

- Uses GN version from git revision `97b68a0bb62b7528bc3491c7949d6804223c2b82`
- Uses Ninja version `1.13.0`
- Automatically detects macOS architecture (ARM64/x86_64) and downloads appropriate tools
- Build configuration can be customized in `out/args.gn`

## Adding New Components

1. Create a new directory for your component
2. Add a `BUILD.gn` file defining your targets (executable, static_library, etc.)
3. Update the root `BUILD.gn` to include your new target in the appropriate group
4. Run `./tool/gn gen out` to regenerate build files
5. Build with `./tool/ninja -C out`

## GN Target Types

- `executable()` - Creates a binary executable
- `static_library()` - Creates a static library (.a)
- `shared_library()` - Creates a shared library (.so/.dylib)
- `group()` - Logical grouping of other targets